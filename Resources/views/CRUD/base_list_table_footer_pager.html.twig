<div class="{% if not app.request.isXmlHttpRequest %}span3 {% else %}span12 {% endif %} rz-center-element admin-table-footer-pager">
    {% if admin.datagrid.pager.haveToPaginate() %}
        <label class="control-label">Page {{ admin.datagrid.pager.page }} / {{ admin.datagrid.pager.lastpage }} of {% transchoice admin.datagrid.pager.nbresults with {'%count%': admin.datagrid.pager.nbresults} from 'SonataAdminBundle' %}list_results_count{% endtranschoice %}</label>
        <div class="controls">
            {% if admin.datagrid.pager.lastpage < 6 %}
                <div class="pagination">
                    <ul>
                        {% if admin.datagrid.pager.page != 1  %}
                            <li>
                                <a href="{{ admin.generateUrl('list', admin.modelmanager.paginationparameters(admin.datagrid, 1)) }}" title="{{ 'link_first_pager'|trans({}, 'SonataAdminBundle') }}">
                                    <i class="icon-step-backward"></i>
                                </a>
                            </li>
                        {% endif %}

                        {% if admin.datagrid.pager.page != admin.datagrid.pager.previouspage %}
                            <li>
                                <a href="{{ admin.generateUrl('list', admin.modelmanager.paginationparameters(admin.datagrid, admin.datagrid.pager.previouspage)) }}" title="{{ 'link_previous_pager'|trans({}, 'SonataAdminBundle') }}">
                                    <i class="icon-backward"></i>
                                </a>
                            </li>
                        {% endif %}

                        {# Set the number of pages to display in the pager #}
                        {% for page in admin.datagrid.pager.getLinks() %}
                            {% if page == admin.datagrid.pager.page %}
                                <li class="active"><a href="{{ admin.generateUrl('list', admin.modelmanager.paginationparameters(admin.datagrid, page)) }}">{{ page }}</a></li>
                            {% else %}
                                <li><a href="{{ admin.generateUrl('list', admin.modelmanager.paginationparameters(admin.datagrid, page)) }}">{{ page }}</a></li>
                            {% endif %}
                        {% endfor %}

                        {% if admin.datagrid.pager.page != admin.datagrid.pager.nextpage %}
                            <li>
                                <a href="{{ admin.generateUrl('list', admin.modelmanager.paginationparameters(admin.datagrid, admin.datagrid.pager.nextpage)) }}" title="{{ 'link_next_pager'|trans({}, 'SonataAdminBundle') }}">
                                    <i class="icon-forward"></i>
                                </a>
                            </li>
                        {% endif %}

                        {% if admin.datagrid.pager.page != admin.datagrid.pager.lastpage  %}
                            <li>
                                <a href="{{ admin.generateUrl('list', admin.modelmanager.paginationparameters(admin.datagrid, admin.datagrid.pager.lastpage)) }}" title="{{ 'link_last_pager'|trans({}, 'SonataAdminBundle') }}">
                                    <i class="icon-step-forward"></i>
                                </a>
                            </li>
                        {% endif %}
                    </ul>
                </div>
            {% else %}
                <select class="span8 selectpicker show-tick rz-alt-pager" id="{{ admin.uniqid }}_pager">
                    {% for page in admin.datagrid.pager.getLinks() %}
                        <option {% if page == admin.datagrid.pager.page %}selected="selected"{% endif %} value="{{ admin.generateUrl('list', admin.modelmanager.paginationparameters(admin.datagrid, page)) }}">
                            {{ page }}
                        </option>
                    {% endfor %}
                </select>
                <script type="text/javascript">
                    {% block list_alt_pager_js %}
                    sonata_rz_pager_alt.initAltPager();
                    {% endblock list_alt_pager_js %}
                </script>
            {% endif %}
        </div>
    {% else %}
        <label class="control-label">Page {{ admin.datagrid.pager.page }} / {{ admin.datagrid.pager.lastpage }}</label>
        <div class="controls">
            <label class="label">{% transchoice admin.datagrid.pager.nbresults with {'%count%': admin.datagrid.pager.nbresults} from 'SonataAdminBundle' %}list_results_count{% endtranschoice %}</label>
        </div>
    {% endif %}
</div>
